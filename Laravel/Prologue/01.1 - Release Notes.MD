# Release Notes

[Versioning Scheme](https://laravel.com/docs/11.x/releases#versioning-scheme)
[Support Policy](https://laravel.com/docs/11.x/releases#support-policy)
[Laravel 11](https://laravel.com/docs/11.x/releases#laravel-11)

## Versioning Scheme

Laravel and its other first-party packages follow [Semantic Versioning](https://semver.org/). Major framework releases
are released every year (~Q1), while minor and patch releases may be released as often as every week. Minor and patch
releases should **never** contain breaking changes.

When referencing the Laravel framework or its components from your application or package, you should always use a
version constraint such as `^11.0`, since major releases of Laravel do include breaking changes. However, we strive to
always ensure you may update to a new major release in one day or less.

### Named Arguments

[Named arguments](https://www.php.net/manual/en/functions.arguments.php#functions.named-arguments) are not covered by
Laravel's backwards compatibility guidelines. We may choose to rename function arguments when necessary in order to
improve the Laravel codebase. Therefore, using named arguments when calling Laravel methods should be done cautiously
and with the understanding that the parameter names may change in the future.

## Support Policy

For all Laravel releases, bug fixes are provided for 18 months and security fixes are provided for 2 years. For all
additional libraries, including Lumen, only the latest major release receives bug fixes. In addition, please review the
database versions [supported by Laravel](https://laravel.com/docs/11.x/database#introduction).

| **Version** | **PHP(*)** | **Release**         | **Bug Fixes Until** | **Security Fixes Until** |
|-------------|------------|---------------------|---------------------|--------------------------|
| 9           | 8.0 - 8.2  | February 8th, 2022  | August 8th, 2023    | February 6th, 2024       |
| 10          | 8.1 - 8.3  | February 14th, 2023 | August 6th, 2024    | February 4th, 2025       |
| 11          | 8.2 - 8.3  | March 12th, 2024    | September 3rd, 2025 | March 12th, 2026         |
| 12          | 8.2 - 8.3  | Q1 2025             | Q3 2026             | Q1 2027                  |

End of life Security fixes only
(*) Supported PHP versions

## Laravel 11

Laravel 11 continues the improvements made in Laravel 10.x by introducing a streamlined application structure,
per-second rate limiting, health routing, graceful encryption key rotation, queue testing improvements, [Resend](https://resend.com/) mail
transport, Prompt validator integration, new Artisan commands, and more. In addition, Laravel Reverb, a first-party,
scalable WebSocket server has been introduced to provide robust real-time capabilities to your applications.

### PHP 8.2

Laravel 11.x requires a minimum PHP version of 8.2.

### Streamlined Application Structure

Laravel's streamlined application structure was developed by [Taylor Otwell](https://github.com/taylorotwell) and [Nuno Maduro](https://github.com/nunomaduro).

Laravel 11 introduces a streamlined application structure for **new** Laravel applications, without requiring any changes to
existing applications. The new application structure is intended to provide a leaner, more modern experience, while
retaining many of the concepts that Laravel developers are already familiar with. Below we will discuss the highlights
of Laravel's new application structure.

**The Application Bootstrap File**

The `bootstrap/app.php` file has been revitalized as a code-first application configuration file. From this file, you may
now customize your application's routing, middleware, service providers, exception handling, and more. This file unifies
a variety of high-level application behavior settings that were previously scattered throughout your application's file
structure:

```php
return Application::configure(basePath: dirname(__DIR__))
    ->withRouting(
        web: __DIR__.'/../routes/web.php',
        commands: __DIR__.'/../routes/console.php',
        health: '/up',
    )
    ->withMiddleware(function (Middleware $middleware) {
        //
    })
    ->withExceptions(function (Exceptions $exceptions) {
        //
    })->create();
```

#### Service Providers

Instead of the default Laravel application structure containing five service providers, Laravel 11 only includes a
single `AppServiceProvider`. The functionality of the previous service providers has been incorporated into the
`bootstrap/app.php`, is handled automatically by the framework, or may be placed in your application's `AppServiceProvider`.

For example, event discovery is now enabled by default, largely eliminating the need for manual registration of events
and their listeners. However, if you do need to manually register events, you may simply do so in the
`AppServiceProvider`. Similarly, route model bindings or authorization gates you may have previously registered in the
AuthServiceProvider may also be registered in the `AppServiceProvider`.

#### Opt-in API and Broadcast Routing

The `api.php` and `channels.php` route files are no longer present by default, as many applications do not require these
files. Instead, they may be created using simple Artisan commands:

```bash
php artisan install:api
 
php artisan install:broadcasting
```

#### Middleware

Previously, new Laravel applications included nine middleware. These middleware performed a variety of tasks such as
authenticating requests, trimming input strings, and validating CSRF tokens.

In Laravel 11, these middleware have been moved into the framework itself, so that they do not add bulk to your
application's structure. New methods for customizing the behavior of these middleware have been added to the framework
and may be invoked from your application's `bootstrap/app.php` file:

```php
->withMiddleware(function (Middleware $middleware) {
    $middleware->validateCsrfTokens(
        except: ['stripe/*']
    );
 
    $middleware->web(append: [
        EnsureUserIsSubscribed::class,
    ])
})
```

Since all middleware can be easily customized via your application's `bootstrap/app.php`, the need for a separate HTTP "
kernel" class has been eliminated.

#### Scheduling

Using a new `Schedule` facade, scheduled tasks may now be defined directly in your application's `routes/console.php` file,
eliminating the need for a separate console "kernel" class:

```php
use Illuminate\Support\Facades\Schedule;
 
Schedule::command('emails:send')->daily();
```

#### Exception Handling

Like routing and middleware, exception handling can now be customized from your application's `bootstrap/app.php` file
instead of a separate exception handler class, reducing the overall number of files included in a new Laravel
application:

```php
->withExceptions(function (Exceptions $exceptions) {
    $exceptions->dontReport(MissedFlightException::class);
 
    $exceptions->report(function (InvalidOrderException $e) {
        // ...
    });
})
```

### Base `Controller` Class

The base controller included in new Laravel applications has been simplified. It no longer extends Laravel's internal
Controller class, and the AuthorizesRequests and ValidatesRequests traits have been removed, as they may be included in
your application's individual controllers if desired:

```php
<?php
 
namespace App\Http\Controllers;
 
abstract class Controller
{
    //
}
```

### Application Defaults

By default, new Laravel applications use SQLite for `database` storage, as well as the database driver for Laravel's
session, cache, and queue. This allows you to begin building your application immediately after creating a new Laravel
application, without being required to install additional software or create additional database migrations.

In addition, over time, the `database` drivers for these Laravel services have become robust enough for production usage
in many application contexts; therefore, they provide a sensible, unified choice for both local and production
applications.

### Laravel Reverb